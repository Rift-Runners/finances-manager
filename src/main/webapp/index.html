<!DOCTYPE html>
<html ng-app="financeApp">
    <head>
        <title>Todo test</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/foundation/6.2.1/foundation.min.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/dataTables.foundation.min.css"/>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.1.0/css/responsive.foundation.min.css"/>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/remodal/1.1.0/remodal-default-theme.min.css"/>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/remodal/1.1.0/remodal.min.css"/>        
        <link rel="stylesheet" href="resources/todo.css">
    </head>
    <body ng-controller="FinancesController" >
        <!-- OS DIVS DE CRÉDITO E DÉBITO IRÃO SE "ALTERNAR" COM UMA ANIMAÇÃO QUALQUER -->
        <!-- https://www.nabisoft.com/tutorials/java-ee/producing-and-consuming-json-or-xml-in-java-rest-services-with-jersey-and-jackson -->
        <div class="expanded row">
            <div class="small-12 medium-offset-2 medium-3 large-offset-2 large-3 columns">
                <h2>Credit</h2>
                <form>
                    <div class="expanded row">
                        <div class="medium-12 columns">
                            <label>Value
                                <input type="text" placeholder="Credit Value">
                            </label>
                        </div>
                        <div class="medium-12 columns">
                            <label>Subject <a style="border-radius: 20px;" class="success button">Add Subject</a>
                                <select>
                                    <option value=""></option>
                                    <option value="Salary">Salary</option>
                                    <option value="Beach house rent">Beach house rent</option>
                                </select>
                            </label>
                        </div>
                        <div class="medium-12 columns">
                            <a class="expanded success hollow button" href="#">SAVE</a>
                        </div>
                    </div>
                </form>
            </div>
            <div class="small-12 medium-offset-2 medium-3 large-offset-2 large-3 columns">
                <h2>Debit</h2>
                <form name="debitForm">
                    <div class="expanded row">
                        <div class="medium-12 columns">
                            <label>Name
                                <input ng-model="finance.name" type="text" placeholder="Name" ng-required="true">
                            </label>
                        </div>
                        <div class="medium-12 columns">
                            <label>Value
                                <input ng-model="finance.financeValue" type="number" placeholder="Debit Value" ng-required="true">
                            </label>
                        </div>
                        <div class="medium-12 columns">
                            <label>Subject <a style="border-radius: 20px;" href="#modal" class="success button">Add Subject</a>
                                <select ng-options="subject.name for subject in subjects| orderBy: 'name'" ng-model="finance.subject" ng-required="true">
                                    <option value="">Pick a subject</option>
                                </select>
                            </label>
                        </div>
                        <div class="medium-12 columns">
                            <label>Payable until
                                <input type="date" ng-required="true">
                            </label>
                        </div>
                        <div class="medium-12 columns">
                            <p>Already Paid?</p>
                            <div class="switch large">
                                <input  ng-init="finance.paid = false" ng-model="finance.paid" class="switch-input" id="yes-no" type="checkbox" name="exampleSwitch">
                                <label class="switch-paddle" for="yes-no">
                                    <span class="show-for-sr">Already Paid?</span>
                                    <span class="switch-active" aria-hidden="true">Yes</span>
                                    <span class="switch-inactive" aria-hidden="true">No</span>
                                </label>
                            </div>
                        </div>     
                    </div>
                </form>
                <div class="medium-12 columns">
                    <button class="expanded success hollow button" ng-click="saveFinance(finance)" ng-disabled="debitForm.$invalid"/>SAVE</button>
                </div>
            </div>

            <div class="small-12 medium-12 large-12 columns">
                <h2>Finances</h2>
                <input type="text" ng-model="orderBy" placeholder="Search"/>
                <table ng-show="finances.length > 0" class="table table-striped">
                    <thead>
                        <tr>
                            <th></th>
                            <th><a href="" ng-click="orderBy('name')">Name</a></th>
                            <th><a href="" ng-click="orderBy('subject.name')">Subject</a></th> <!-- Group that it belongs (in its respective type) -->
                            <th><a href="" ng-click="orderBy('type')">Type</a></th> <!-- Credit/Debit -->
                            <th><a href="" ng-click="orderBy('financeValue')">Value</a></th>
                            <th><a href="" ng-click="orderBy('paid')">Paid</a></th> <!-- If the Debit is already paid (YES/NO)-->
                            <th><a href="" ng-click="orderBy('')">File</a></th> <!-- If it has a file associated with it -->            
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-class="{'selecionado negrito': finance.selected}"  ng-repeat="finance in finances| filter:orderBy | orderBy:sortingRule:sortingDirection">
                            <td><input type="checkbox" ng-model="finance.selected"/></td>
                            <td>{{finance.name}}</td>
                            <td>{{finance.subject.name}}</td>
                            <td>{{finance.type}}</td>
                            <td>{{finance.financeValue | currency}}</td>
                            <td>{{finance.paid}}</td>
                            <td>-</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="remodal-bg">
                <div class="remodal" data-remodal-id="modal">
                    <button data-remodal-action="close" class="remodal-close"></button>
                    <h1>Add Debit Subject</h1>
                    <form>
                        <div class="expanded row">
                            <div class="medium-12 columns">
                                <label>Name
                                    <input ng-model="subject.name" type="text" placeholder="Name">
                                </label>
                            </div>
                        </div>
                    </form>
                    <br>
                    <button data-remodal-action="cancel" class="remodal-cancel">Cancel</button>
                    <button ng-click="saveSubject(subject)" data-remodal-action="confirm" class="remodal-confirm">Save</button>
                </div>
            </div>
        </div>

        <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/foundation/6.2.1/foundation.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/dataTables.foundation.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.1.0/js/dataTables.responsive.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.1.0/js/responsive.foundation.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.7/angular.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.7/angular-resource.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.7/angular-route.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/remodal/1.1.0/remodal.min.js"></script>
        <script src="resources/scripts/app.js"></script>
        <script src="resources/scripts/services.js"></script>
        <script src="resources/scripts/controllers.js"></script>
        <script src="resources/scripts/angular-locale_pt-br.js"></script>
    </body>
</html>

